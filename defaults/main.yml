---
# defaults file for ansible-role-aws-alb

#
# common
#
aws_region: "{{ survey_aws_region | default('us-east-1') }}"
vpc_id: "{{ survey_vpc_id | default('vpc-324f234a') }}"

#
# resources
#
alb_name: "{{ survey_alb_name | default('cloud44-terraform-alb') }}"
alb_subnets:
  - subnet-3f449e10
  - subnet-a1eee2c5
alb_internal: !!str true
alb_idle_timeout: 60
alb_access_logs_bucket: cloud44-alb-logs
alb_access_logs_prefix: ELB-logs

alb_security_group_name: "{{ survey_alb_name | default('cloud44-terraform-alb') }}-secgrp"
alb_security_group_description: "Allow HTTP inbound traffic"
alb_security_group_ingress_from_port: 80
alb_security_group_ingress_to_port: 80
alb_security_group_ingress_protocol: tcp
alb_security_group_ingress_cidr_blocks:
  - 207.61.145.4/32
alb_security_group_egress_from_port: 0
alb_security_group_egress_to_port: 0
alb_security_group_egress_protocol: -1
alb_security_group_egress_cidr_blocks:
  - 0.0.0.0/0

alb_target_group_name: "{{ survey_alb_name | default('cloud44-terraform-alb') }}-tg"
alb_target_group_port: 80
alb_target_group_protocol: HTTP
alb_target_group_enable_stickiness: !!str false
alb_target_group_enable_stickiness_type: "lb_cookie"
alb_target_group_enable_stickiness_cookie_duration: 1800
alb_target_group_health_check_healthy_threshold: 3
alb_target_group_health_check_unhealthy_threshold: 10
alb_target_group_health_check_timeout: 5
alb_target_group_health_check_interval: 10
alb_target_group_health_check_path: /
alb_target_group_health_check_port: 80

alb_listener_port: 80
alb_listener_protocol: HTTP

alb_target_group_attachment_instances:
  - i-0e499cc4b1fb3449c
  - i-09df5c385d867460e

alb_target_group_attachment_port: 80

#
# terraform
#
provider_aws_version: 2.33.0

templates:
  - alb
  - backends
  - output
  - provider
  - terraform

terraform_version: 0.12
terraform_extra_args: -no-color
terraform_state_bucket: cloud44-terraform-states
terraform_state_key: develop/tests